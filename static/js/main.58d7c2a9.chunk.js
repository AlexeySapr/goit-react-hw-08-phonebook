(this["webpackJsonpreact-phonebook"]=this["webpackJsonpreact-phonebook"]||[]).push([[0],{39:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"changeFilter",(function(){return T}));var o={};t.r(o),t.d(o,"getFilter",(function(){return ee}));var c,a,i,s,u,d,l,b,h,j,m,p,f,x,O=t(0),g=t.n(O),y=t(20),w=t.n(y),C=t(6),v=t(28),k=t(10),z=t(1),T=Object(z.b)("phonebook/changeFilter"),F=Object(z.d)("",Object(k.a)({},T,(function(e,n){return n.payload}))),L=t(26),S=t(8),A=Object(L.a)({reducerPath:"contactsApi",baseQuery:Object(S.d)({baseUrl:"https://61dd6565f60e8f0017668798.mockapi.io"}),tagTypes:["Contacts"],endpoints:function(e){return{getContacts:e.query({query:function(){return"/contacts"},providesTags:function(e){return e?e.map((function(e){return{type:"Contacts",id:e.id}})):["Contacts"]}}),addContact:e.mutation({query:function(e){return{url:"/contacts",method:"POST",body:e}},invalidatesTags:["Contacts"]}),deleteContact:e.mutation({query:function(e){return{url:"/contacts/".concat(e),method:"DELETE"}},invalidatesTags:["Contacts"]})}}}),q=A.useGetContactsQuery,D=A.useAddContactMutation,P=A.useDeleteContactMutation,B=Object(z.a)({reducer:Object(k.a)({filter:F},A.reducerPath,A.reducer),middleware:function(e){return[].concat(Object(v.a)(e()),[A.middleware])},devTools:!1}),E=t(44),M=Object.freeze({colors:{primary:"#57d0e6",white:"#fff",borderColor:"#bdbdbd",textColor:"#212529",inputBoxShadow:"0 0 0 0.2rem rgba(87, 208, 230, 0.5)"},loader:{justifyContent:"center",marginTop:"2rem"},btnLoader:{justifyContent:"center",alignIitems:"center"}}),J=(t(39),t(40),t(4)),N=t(5),Z=N.a.div(c||(c=Object(J.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 1170px;\n  padding: 15px;\n"]))),I=t(2),Q=function(e){var n=e.children;return Object(I.jsx)(Z,{children:n})},G=N.a.div(a||(a=Object(J.a)(["\n  margin-top: 15px;\n  margin-bottom: 15px;\n"]))),U=N.a.h2(i||(i=Object(J.a)(["\n  font-weight: 500;\n  text-transform: uppercase;\n"]))),$=function(e){var n=e.title,t=e.children;return Object(I.jsxs)(G,{children:[Object(I.jsx)(U,{children:n}),t]})},H=t(14),K=t(11),R=N.a.form(s||(s=Object(J.a)(["\n  border: ",";\n  padding: 30px;\n  width: 500px;\n"])),(function(e){return"2px solid ".concat(e.theme.colors.primary)})),V=N.a.label(u||(u=Object(J.a)(["\n  display: flex;\n  flex-direction: column;\n  font-weight: 500;\n  font-size: 1.5rem;\n  margin-bottom: 20px;\n"]))),W=N.a.input(d||(d=Object(J.a)(["\n  width: 300px;\n  margin-top: 5px;\n\n  padding: 0.375rem 0.75rem;\n  font-family: inherit;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: ",";\n  border: ",";\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n\n  &:focus {\n    border-color: ",";\n    outline: 0;\n    box-shadow: ",";\n  }\n"])),(function(e){return e.theme.colors.textColor}),(function(e){return"1px solid ".concat(e.theme.colors.borderColor)}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.inputBoxShadow})),X=N.a.button(l||(l=Object(J.a)(["\n  background-color: transparent;\n  padding: 5px 10px;\n  border-radius: 5px;\n  width: 120px;\n  font-size: 1rem;\n  transition: background-color 300ms ease-in-out, color 300ms ease-in-out;\n\n  &:hover,\n  &:focus {\n    color: ",";\n    outline: 0;\n    cursor: pointer;\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.primary})),Y=function(){var e=Object(O.useState)(""),n=Object(H.a)(e,2),t=n[0],r=n[1],o=Object(O.useState)(""),c=Object(H.a)(o,2),a=c[0],i=c[1],s=q(),u=s.data,d=s.error,l=D(),b=Object(H.a)(l,2),h=b[0],j=b[1].isLoading,m=function(e){var n=e.currentTarget,t=n.name,o=n.value;switch(t){case"name":r(o);break;case"number":i(o)}};return Object(I.jsxs)(R,{onSubmit:function(e){e.preventDefault(),d?K.b.error("Server not responding"):!function(e){var n=e.name,t=e.number,r=n.toLowerCase().replace(/\s+/g,""),o=t.replace(/\D/g,"");return u.some((function(e){return e.name.toLowerCase().replace(/\s+/g,"")===r||e.phone.replace(/\D/g,"")===o}))}({name:t,number:a})?(h({name:t,phone:a}),K.b.success("Contact ".concat(t," successfully added")),r(""),i("")):K.b.error("This contact already exists",{duration:3e3,position:"top-center"})},children:[Object(I.jsxs)(V,{children:["Name",Object(I.jsx)(W,{type:"text",name:"name",value:t,onChange:m,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),Object(I.jsx)(K.a,{}),Object(I.jsxs)(V,{children:["Number",Object(I.jsx)(W,{type:"tel",name:"number",value:a,onChange:m,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),Object(I.jsx)(X,{type:"submit",disabled:j,children:j?"Adding...":"Add contact"})]})},_=t(19),ee=function(e){return e.filter},ne=t(27),te=N.a.li(b||(b=Object(J.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: ",";\n"])),(function(e){return"1px solid ".concat(e.theme.colors.primary)})),re=N.a.p(h||(h=Object(J.a)(["\n  font-size: 1.1rem;\n"]))),oe=N.a.button(j||(j=Object(J.a)(["\n  background-color: transparent;\n  padding: 5px 10px;\n  border-radius: 5px;\n  width: 75px;\n  font-size: 0.8rem;\n  transition: background-color 300ms ease-in-out, color 300ms ease-in-out;\n\n  &:hover,\n  &:focus {\n    color: ",";\n    outline: 0;\n    cursor: pointer;\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.primary})),ce=function(e){var n=e.id,t=e.name,r=e.phone,o=Object(E.c)(),c=P(),a=Object(H.a)(c,2),i=a[0],s=a[1].isLoading;return Object(I.jsxs)(te,{children:[Object(I.jsxs)(re,{children:[t,": ",r]}),Object(I.jsx)(oe,{type:"button",onClick:function(){return i(n)},disabled:s,children:s?Object(I.jsx)(ne.a,{ariaLabel:"loading-indicator",color:"".concat(o.colors.white),wrapperStyle:o.btnLoader,height:20,width:20}):"Delete"})]})},ae=N.a.ul(m||(m=Object(J.a)(["\n  padding: 0;\n  width: 380px;\n"]))),ie=function(){var e=Object(C.e)(o.getFilter),n=q(),t=n.data,r=n.error,c=e.toLowerCase(),a=[];return t&&(a=t.filter((function(e){return e.name.toLowerCase().includes(c)}))),Object(O.useEffect)((function(){r&&K.b.error("\u0421an't get contacts info from server")}),[r]),Object(I.jsxs)(I.Fragment,{children:[r&&Object(I.jsx)(K.a,{}),!r&&t&&Object(I.jsx)(ae,{children:a.map((function(e){return Object(I.jsx)(ce,Object(_.a)({},e),e.id)}))})]})},se=N.a.label(p||(p=Object(J.a)(["\n  font-size: 1.1rem;\n  font-weight: 500;\n"]))),ue=N.a.input(f||(f=Object(J.a)(["\n  margin-left: 20px;\n\n  padding: 0.2rem 0.4rem;\n  color: ",";\n  border: ",";\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n\n  &:focus {\n    border-color: ",";\n    outline: 0;\n    box-shadow: ",";\n  }\n"])),(function(e){return e.theme.colors.textColor}),(function(e){return"1px solid ".concat(e.theme.colors.borderColor)}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.inputBoxShadow})),de=function(){var e=Object(C.e)(o.getFilter),n=Object(C.d)();return Object(I.jsxs)(se,{children:["Find contacts by name:",Object(I.jsx)(ue,{type:"text",name:"filter",value:e,onChange:function(e){return n(r.changeFilter(e.currentTarget.value))}})]})},le=N.a.h2(x||(x=Object(J.a)(["\n  text-align: center;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.primary})),be=function(e){var n=e.title,t=e.children;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(le,{children:n}),t]})},he=function(){return Object(I.jsx)(be,{title:"Phonebook",children:Object(I.jsxs)(Q,{children:[Object(I.jsx)($,{title:"Phonebook",children:Object(I.jsx)(Y,{})}),Object(I.jsxs)($,{title:"Contacts",children:[Object(I.jsx)(de,{}),Object(I.jsx)(ie,{})]})]})})};w.a.render(Object(I.jsx)(g.a.StrictMode,{children:Object(I.jsx)(C.a,{store:B,children:Object(I.jsx)(E.b,{theme:M,children:Object(I.jsx)(he,{})})})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.58d7c2a9.chunk.js.map